name: iOS Album Processor

on:
  workflow_dispatch:
    inputs:
      album_name:
        description: 'Name of the album (URL-friendly)'
        required: true
        type: string
      album_title:
        description: 'Display title of the album'
        required: true
        type: string
      album_date:
        description: 'Date of the album (YYYY-MM-DD)'
        required: true
        type: string
      icloud_share_url:
        description: 'iCloud Shared Album URL'
        required: true
        type: string
  push:
    branches:
      - feat/ios-album-automation

permissions:
  contents: write

jobs:
  process_album:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
        with:
          ref: feat/ios-album-automation
      
      - name: Echo inputs
        run: |
          echo "Album Name: ${{ github.event.inputs.album_name || 'No album name (push trigger)' }}"
          echo "Album Title: ${{ github.event.inputs.album_title || 'No title (push trigger)' }}"
          echo "Album Date: ${{ github.event.inputs.album_date || 'No date (push trigger)' }}"
          echo "iCloud URL: ${{ github.event.inputs.icloud_share_url || 'No URL (push trigger)' }}"
